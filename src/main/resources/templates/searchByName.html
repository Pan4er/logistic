<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Search by name</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
<div class="container" style="margin: 0 auto; padding-top: 70px">
    <form th:action="@{/searchByName}">
        Поиск по названию: <input type="text" name="keyword" id="keyword" size="50" th:value="${keyword}" required />
        &nbsp;
        <input type="submit" value="Найти" />
        &nbsp;
        <input type="button" value="Обновить" id="btnClear" onclick="clearSearch()" />

        <input type="button" value="На главную" onclick="toIndex()" />


    </form>


        <div class="container" style="margin-top: 20px">
            <div id="grid" class="row align-items-center" style="background-color: rgba(86,61,124,.15);
                        border: 1px solid rgba(86,61,124,.2);">
                <div class="col" style=" border: 1px solid rgba(86,61,124,.2);">Название товара</div>
                <div class="col" style=" border: 1px solid rgba(86,61,124,.2);">Цена</div>
                <div class="col" style=" border: 1px solid rgba(86,61,124,.2);">Размер товара (мм2)</div>
                <div class="col" style=" border: 1px solid rgba(86,61,124,.2);">Номер склада</div>
                <div class="col" style=" border: 1px solid rgba(86,61,124,.2);">Удалить товар</div>
            </div>
        </div>
        <div class="container" style="margin-bottom: 40px">

            <div class="row align-items-center"
                 th:each="good : ${goods}"
                 style="background-color: rgba(86,61,124,.15);
                     border: 1px solid rgba(86,61,124,.2);">
                <div class="col" style=" border: 1px solid rgba(86,61,124,.2);">
                    <form th:action="@{SearchByName/editName}" method="post">
                        <input type="text" name="goodName" th:value="${good.Name}">
                        <input type="hidden" name="goodId" th:value="${good.Id}">
                        <input type="submit" value="Изменить">
                    </form>
                </div>
                <div class="col" style=" border: 1px solid rgba(86,61,124,.2);">
                    <form th:action="@{SearchByName/editPrice}" th:method="post">
                        <input type="text" name="goodPrice" th:value="${good.Price}">
                        <input type="hidden" name="goodId" th:value="${good.Id}">
                        <input type="submit" value="Изменить">
                    </form>
                </div>
                <div class="col" style=" border: 1px solid rgba(86,61,124,.2);">
                    <form th:action="@{SearchByName/editSize}" th:method="post">
                        <input type="text" name="goodSize" th:value="${good.Size}">
                        <input type="hidden" name="goodId" th:value="${good.Id}">
                        <input type="submit" value="Изменить">
                    </form>
                </div>
                <div class="col" style=" border: 1px solid rgba(86,61,124,.2);">
                    <form th:action="@{SearchByName/editStore}" th:method="PATCH">
                        <input type="text" name="goodStore" th:value="${good.Store}">
                        <input type="hidden" name="goodId" th:value="${good.Id}">
                        <input type="submit" value="Изменить">
                    </form>
                </div>
               <div class="col">
                    <form th:action="@{SearchByName/deleteGood}" th:method="DELETE">
                        <input type="hidden" name="goodId" th:value="${good.Id}">
                        <input style="width: 100%" type="submit" value="Удалить">
                    </form>
                </div>

            </div>
        </div>
</div>



<script type="text/javascript">
    function clearSearch() {
        window.location = "[[@{/searchByName}]]";
    }
    function toIndex(){
        window.location = "[[@{/}]]";
    }
</script>
</body>
</html>